import React from 'react';
import { View, Text, ScrollView, StyleSheet } from 'react-native';
import Colors from '@/constants/Colors';

interface PolicyViewProps {
  type: 'privacy' | 'terms';
}

const PRIVACY_POLICY = `개인정보 처리방침

시행일자: 2025년 1월 10일

Roomie("회사" 또는 "저희")는 이용자의 개인정보 보호를 매우 중요하게 생각합니다. 본 개인정보 처리방침은 Roomie 앱 이용 시 수집되는 정보와 그 사용 방법에 대해 설명합니다.

1. 수집하는 개인정보

1.1 회원가입 시 수집 정보
• 필수 정보: 이메일 주소, 비밀번호
• 카카오 로그인 시: 카카오 계정 정보 (이메일, 프로필 정보)
• 선택 정보: 프로필 사진, 닉네임

1.2 서비스 이용 과정에서 수집되는 정보
• 팀 관리 정보: 팀 이름, 팀 초대 코드
• 공과금 정보: 공과금 항목, 금액, 납부 내역
• 물품 관리 정보: 물품명, 수량, 구매 요청 내역
• 루틴 정보: 루틴 이름, 담당자, 완료 여부
• 채팅 정보: 메시지 내용, 투표 내역, 공지사항
• 피드백 정보: 룸메이트 피드백 내용

1.3 자동으로 수집되는 정보
• 기기 정보: 기기 식별자, OS 버전, 앱 버전
• 로그 정보: 접속 시간, 서비스 이용 기록
• 광고 식별자: Google AdMob 광고 제공을 위한 광고 ID

2. 개인정보의 이용 목적

저희는 수집한 정보를 다음의 목적으로 이용합니다:

2.1 서비스 제공
• 회원 가입 및 인증
• 팀 생성 및 관리
• 공과금, 물품, 루틴 관리 기능 제공
• 채팅 및 투표 기능 제공
• 알림 서비스 제공

2.2 서비스 개선
• 이용자 행태 분석 및 서비스 개선
• 신규 서비스 개발
• 오류 및 장애 대응

2.3 광고 제공
• Google AdMob을 통한 맞춤형 광고 제공
• 광고 효과 측정 및 분석

3. 개인정보의 보유 및 이용 기간

3.1 회원 정보
• 회원 탈퇴 시까지 보유
• 탈퇴 후 즉시 삭제 (단, 법령에 따라 보존이 필요한 경우 예외)

3.2 법령에 따른 보존
• 전자상거래법: 계약 또는 청약철회 등에 관한 기록 (5년)
• 통신비밀보호법: 로그인 기록 (3개월)

4. 개인정보의 제3자 제공

저희는 이용자의 개인정보를 원칙적으로 외부에 제공하지 않습니다. 다만, 아래의 경우는 예외로 합니다:

4.1 제3자 서비스
• Firebase (Google): 데이터 저장 및 인증 서비스
• Google AdMob: 광고 서비스
• 카카오: 소셜 로그인 서비스

4.2 법적 의무
• 법원의 명령, 법률의 규정에 따른 요청이 있는 경우

5. 이용자의 권리

이용자는 언제든지 다음의 권리를 행사할 수 있습니다:
• 개인정보 열람: 앱 내 '설정' > '내 정보'
• 개인정보 수정: 앱 내 '설정' > '프로필 편집'
• 개인정보 삭제: 앱 내 '설정' > '계정 삭제'
• 이메일 문의: support@roomie.app

6. 개인정보 보호책임자

개인정보 관련 문의사항:
• 이메일: support@roomie.app
• 처리 기간: 영업일 기준 3일 이내

최종 수정일: 2025년 1월 10일`;

const TERMS_OF_SERVICE = `서비스 이용약관

시행일자: 2025년 1월 10일

본 약관은 Roomie("회사", "저희")가 제공하는 룸메이트 관리 서비스("서비스")의 이용과 관련하여 회사와 이용자 간의 권리, 의무 및 책임 사항을 규정합니다.

제1조 (목적)

본 약관은 Roomie 앱에서 제공하는 모든 서비스의 이용 조건 및 절차, 회사와 이용자 간의 권리, 의무 및 책임 사항을 규정함을 목적으로 합니다.

제2조 (정의)

1. "서비스"란 Roomie 앱을 통해 제공되는 룸메이트 관리, 공과금 분할, 물품 관리, 루틴 공유 등의 모든 서비스를 의미합니다.
2. "이용자"란 본 약관에 동의하고 회사가 제공하는 서비스를 이용하는 회원 및 비회원을 말합니다.
3. "회원"이란 본 약관에 동의하고 회원 가입을 완료한 자를 의미합니다.
4. "팀"이란 룸메이트들이 함께 사용하는 공유 공간의 단위를 의미합니다.
5. "콘텐츠"란 이용자가 서비스를 이용하면서 생성하는 모든 정보를 의미합니다.

제3조 (약관의 게시와 개정)

1. 회사는 본 약관의 내용을 이용자가 쉽게 알 수 있도록 앱 내에 게시합니다.
2. 회사는 필요한 경우 관련 법령을 위배하지 않는 범위에서 본 약관을 개정할 수 있습니다.
3. 약관이 개정되는 경우, 회사는 개정 내용과 적용 일자를 명시하여 최소 7일 전에 앱 내 공지사항을 통해 공지합니다.

제4조 (회원 가입)

1. 이용자는 회사가 정한 가입 양식에 따라 회원 정보를 기입한 후 본 약관에 동의함으로써 회원 가입을 신청합니다.
2. 회사는 다음 각 호에 해당하는 경우 회원 가입을 승인하지 않을 수 있습니다:
   • 이전에 회원 자격을 상실한 적이 있는 경우
   • 실명이 아니거나 타인의 명의를 이용한 경우
   • 허위 정보를 기재한 경우
   • 만 14세 미만 아동이 법정대리인의 동의를 얻지 아니한 경우

제5조 (서비스의 제공)

1. 회사는 다음과 같은 서비스를 제공합니다:
   • 팀 생성 및 관리
   • 공과금 관리 및 분할
   • 물품 공동 구매 및 재고 관리
   • 루틴 공유 및 완료 확인
   • 채팅 및 투표
   • 룸메이트 피드백
   • 알림 서비스

제7조 (이용자의 의무)

1. 이용자는 다음 행위를 하여서는 안 됩니다:
   • 허위 내용 등록
   • 타인의 정보 도용
   • 타인의 명예 손상 또는 업무 방해
   • 외설 또는 폭력적인 정보 게시
   • 해킹, 바이러스 유포 등

제8조 (팀 관리)

1. 이용자는 팀을 생성하고 초대 코드를 통해 다른 이용자를 초대할 수 있습니다.
2. 팀 내에서 공유되는 모든 정보는 팀 구성원 모두에게 공개됩니다.
3. 팀 탈퇴 시 해당 이용자가 생성한 데이터는 팀 내에 보존됩니다.

제10조 (광고의 게재)

1. 회사는 서비스 운영과 관련하여 앱 내에 광고를 게재할 수 있습니다.
2. 이용자는 서비스 이용 시 노출되는 광고 게재에 대해 동의한 것으로 간주됩니다.

제11조 (개인정보 보호)

1. 회사는 관계 법령이 정하는 바에 따라 이용자의 개인정보를 보호하기 위해 노력합니다.
2. 개인정보의 보호 및 사용에 대해서는 회사의 개인정보 처리방침이 적용됩니다.

제13조 (계약 해지 및 이용 제한)

1. 이용자는 언제든지 앱 내 '설정' > '계정 삭제'를 통해 이용 계약 해지를 요청할 수 있습니다.
2. 회사는 이용자가 본 약관을 위반한 경우 서비스 이용을 제한할 수 있습니다.

제14조 (면책 조항)

1. 회사는 천재지변 또는 이에 준하는 불가항력으로 인한 서비스 제공 불가 시 책임이 면제됩니다.
2. 회사는 이용자의 귀책사유로 인한 서비스 이용 장애에 대하여 책임을 지지 않습니다.
3. 회사는 무료로 제공되는 서비스 이용과 관련하여 책임을 지지 않습니다.

제16조 (재판권 및 준거법)

1. 이 약관의 해석 및 분쟁에 대하여는 대한민국 법을 적용합니다.
2. 서비스 이용으로 발생한 분쟁에 대한 소송은 민사소송법상의 관할법원에 제기합니다.

최종 수정일: 2025년 1월 10일`;

export function PolicyView({ type }: PolicyViewProps) {
  const content = type === 'privacy' ? PRIVACY_POLICY : TERMS_OF_SERVICE;
  const title = type === 'privacy' ? '개인정보 처리방침' : '서비스 이용약관';

  return (
    <View style={styles.container}>
      <Text style={styles.title}>{title}</Text>
      <ScrollView style={styles.scrollView} showsVerticalScrollIndicator={true}>
        <Text style={styles.content}>{content}</Text>
      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.light.background,
  },
  title: {
    fontSize: 20,
    fontWeight: '700',
    color: Colors.light.text,
    padding: 20,
    paddingBottom: 10,
    borderBottomWidth: 1,
    borderBottomColor: Colors.light.borderColor,
  },
  scrollView: {
    flex: 1,
    padding: 20,
  },
  content: {
    fontSize: 14,
    lineHeight: 22,
    color: Colors.light.text,
  },
});
